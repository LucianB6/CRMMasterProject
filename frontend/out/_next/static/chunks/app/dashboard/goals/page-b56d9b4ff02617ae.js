(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7402],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(95155),s=a(12115),n=a(17129),l=a(92885),o=a(64269);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(i({variant:s,size:l,className:a})),ref:t,...c})});d.displayName="Button"},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11186:(e,t,a)=>{"use strict";a.d(t,{bq:()=>f,eb:()=>x,gC:()=>y,l6:()=>c,yv:()=>u});var r=a(95155),s=a(12115),n=a(20154),l=a(24033),o=a(12108),i=a(5917),d=a(64269);let c=n.bL;n.YJ;let u=n.WT,f=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(n.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...o,children:[s,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.l9.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});m.displayName=n.wn.displayName;let y=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...o}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...o,children:[(0,r.jsx)(p,{}),(0,r.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(m,{})]})})});y.displayName=n.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:s})]})});x.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.wv.displayName},15894:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var r=a(12115);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=[],i={toasts:[]};function d(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),o.forEach(e=>{e(i)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(i);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},29614:(e,t,a)=>{Promise.resolve().then(a.bind(a,81771))},30814:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},41052:(e,t,a)=>{"use strict";a.d(t,{C5:()=>g,MJ:()=>x,Rr:()=>h,eI:()=>m,lR:()=>y,lV:()=>d,zB:()=>u});var r=a(95155),s=a(12115),n=a(17129),l=a(22544),o=a(64269),i=a(76444);let d=l.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(l.xI,{...t})})},f=()=>{let e=s.useContext(c),t=s.useContext(p),{getFieldState:a,formState:r}=(0,l.xW)(),n=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},p=s.createContext({}),m=s.forwardRef((e,t)=>{let{className:a,...n}=e,l=s.useId();return(0,r.jsx)(p.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",a),...n})})});m.displayName="FormItem";let y=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:n,formItemId:l}=f();return(0,r.jsx)(i.J,{ref:t,className:(0,o.cn)(n&&"text-destructive",a),htmlFor:l,...s})});y.displayName="FormLabel";let x=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:l,formDescriptionId:o,formMessageId:i}=f();return(0,r.jsx)(n.DX,{ref:t,id:l,"aria-describedby":s?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!s,...a})});x.displayName="FormControl";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:n}=f();return(0,r.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});h.displayName="FormDescription";let g=s.forwardRef((e,t)=>{var a;let{className:s,children:n,...l}=e,{error:i,formMessageId:d}=f(),c=i?String(null!=(a=null==i?void 0:i.message)?a:""):n;return c?(0,r.jsx)("p",{ref:t,id:d,className:(0,o.cn)("text-sm font-medium text-destructive",s),...l,children:c}):null});g.displayName="FormMessage"},51834:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>f,Es:()=>m,L3:()=>y,c7:()=>p,lG:()=>i,rr:()=>x,zM:()=>d});var r=a(95155),s=a(12115),n=a(82969),l=a(65229),o=a(64269);let i=n.bL,d=n.l9,c=n.ZL;n.bm;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hJ,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=n.hJ.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(n.UC,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.UC.displayName;let p=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};p.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="DialogFooter";let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});y.displayName=n.hE.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=n.VY.displayName},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2821),s=a(75889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var r=a(95155),s=a(12115),n=a(64269);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});l.displayName="Input"},76444:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var r=a(95155),s=a(12115),n=a(32894),l=a(64269);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,l.cn)("text-sm font-medium leading-none",a),...s})});o.displayName=n.b.displayName},81771:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});var r=a(95155),s=a(12115),n=a.t(s,2),l=a(22544),o=a(66942),i=a(15653),d=a(3617),c=a(48633),u=a(86948);a(47650);var f=a(94446),p=Symbol.for("react.lazy"),m=n[" use ".trim().toString()];function y(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===p&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var x=Symbol("radix.slottable");function h(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===x}var g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:a,...r}=e;if(y(a)&&"function"==typeof m&&(a=m(a._payload)),s.isValidElement(a)){var n;let e,l,o=(n=a,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),i=function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(r,a.props);return a.type!==s.Fragment&&(i.ref=t?(0,f.t)(t,o):o),s.cloneElement(a,i)}return s.Children.count(a)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),a=s.forwardRef((e,a)=>{let{children:n,...l}=e;y(n)&&"function"==typeof m&&(n=m(n._payload));let o=s.Children.toArray(n),i=o.find(h);if(i){let e=i.props.children,n=o.map(t=>t!==i?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...l,ref:a,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,r.jsx)(t,{...l,ref:a,children:n})});return a.displayName=`${e}.Slot`,a}(`Primitive.${t}`),n=s.forwardRef((e,s)=>{let{asChild:n,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(n?a:t,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),v="Progress",[b,j]=function(e,t=[]){let a=[],n=()=>{let t=a.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return n.scopeName=e,[function(t,n){let l=s.createContext(n);l.displayName=t+"Context";let o=a.length;a=[...a,n];let i=t=>{let{scope:a,children:n,...i}=t,d=a?.[e]?.[o]||l,c=s.useMemo(()=>i,Object.values(i));return(0,r.jsx)(d.Provider,{value:c,children:n})};return i.displayName=t+"Provider",[i,function(a,r){let i=r?.[e]?.[o]||l,d=s.useContext(i);if(d)return d;if(void 0!==n)return n;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(n,...t)]}(v),[N,w]=b(v),_=s.forwardRef((e,t)=>{var a,s,n,l;let{__scopeProgress:o,value:i=null,max:d,getValueLabel:c=R,...u}=e;(d||0===d)&&!T(d)&&console.error((a="".concat(d),s="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(s,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let f=T(d)?d:100;null===i||E(i,f)||console.error((n="".concat(i),l="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let p=E(i,f)?i:null,m=S(p)?c(p,f):void 0;return(0,r.jsx)(N,{scope:o,value:p,max:f,children:(0,r.jsx)(g.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":S(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":A(p,f),"data-value":null!=p?p:void 0,"data-max":f,...u,ref:t})})});_.displayName=v;var k="ProgressIndicator",C=s.forwardRef((e,t)=>{var a;let{__scopeProgress:s,...n}=e,l=w(k,s);return(0,r.jsx)(g.div,{"data-state":A(l.value,l.max),"data-value":null!=(a=l.value)?a:void 0,"data-max":l.max,...n,ref:t})});function R(e,t){return"".concat(Math.round(e/t*100),"%")}function A(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function S(e){return"number"==typeof e}function T(e){return S(e)&&!isNaN(e)&&e>0}function E(e,t){return S(e)&&!isNaN(e)&&e<=t&&e>=0}C.displayName=k;var M=a(64269);let O=s.forwardRef((e,t)=>{let{className:a,value:s,...n}=e;return(0,r.jsx)(_,{ref:t,className:(0,M.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",a),...n,children:(0,r.jsx)(C,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});O.displayName=_.displayName;var P=a(3998),I=a(51834),z=a(11186),D=a(41052),F=a(65142),V=a(6191),$=a(30814);let B=(0,a(71847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var J=a(15894),L=a(90960);let U=[{key:"outbound_dials",label:"Apeluri outbound efectuate"},{key:"pickups",label:"Apeluri preluate"},{key:"conversations_30s_plus",label:"Conversații > 30s"},{key:"sales_call_booked_from_outbound",label:"Programări din Outbound"},{key:"sales_call_on_calendar",label:"Apeluri pe Calendar"},{key:"no_show",label:"No Show"},{key:"reschedule_request",label:"Cereri reprogramare"},{key:"cancel",label:"Anulări"},{key:"deposits",label:"Avansuri \xeencasate"},{key:"sales_one_call_close",label:"V\xe2nzări \xeenchise la primul apel"},{key:"followup_sales",label:"V\xe2nzări din follow-up"},{key:"upsell_conversation_taken",label:"Discuții de upsell purtate"},{key:"upsells",label:"Upsell-uri realizate"},{key:"contract_value",label:"Valoare totală contracte"},{key:"new_cash_collected",label:"Bani noi \xeencasați"},{key:"total_sales",label:"V\xe2nzări \xeenchise (Total)"}],K=i.Ik({metricKey:i.Yj().min(1,"Trebuie să selectezi o categorie."),target:i.au.number().min(1,"Ținta trebuie să fie mai mare ca 0."),dateFrom:i.au.date({required_error:"Data de \xeenceput este obligatorie."}),dateTo:i.au.date({required_error:"Data de sf\xe2rșit este obligatorie."})}).refine(e=>e.dateTo>=e.dateFrom,{message:"Data de sf\xe2rșit trebuie să fie după sau \xeen aceeași zi cu data de \xeenceput.",path:["dateTo"]}),q={outbound_dials:0,pickups:0,conversations_30s_plus:0,sales_call_booked_from_outbound:0,sales_call_on_calendar:0,no_show:0,reschedule_request:0,cancel:0,deposits:0,sales_one_call_close:0,followup_sales:0,upsell_conversation_taken:0,upsells:0,contract_value:0,new_cash_collected:0};function W(){let{toast:e}=(0,J.dj)(),[t,a]=(0,s.useState)([]),[n,i]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1),[m,y]=(0,s.useState)(q),[x,h]=(0,s.useState)(!0),g=(0,l.mN)({resolver:(0,o.u)(K),defaultValues:{metricKey:"",target:0}}),v=(0,s.useCallback)(()=>window.localStorage.getItem("salesway_token"),[]),b=(0,s.useCallback)(e=>({id:e.id,title:e.title,metricKey:e.metricKey,target:e.target,dateFrom:new Date(e.dateFrom),dateTo:new Date(e.dateTo)}),[]),j=(0,s.useCallback)(async()=>{try{p(!0);let e=v(),t=await (0,L.nr)("/goals",{headers:e?{Authorization:"Bearer ".concat(e)}:void 0});a(t.map(b))}catch(t){e({title:"Nu am putut \xeencărca obiectivele",description:t instanceof Error?t.message:"Eroare necunoscută",variant:"destructive"})}finally{p(!1)}},[v,b,e]);async function N(t){let r=U.find(e=>e.key===t.metricKey);if(r)try{let s=v(),n=b(await (0,L.nr)("/goals",{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{}},body:JSON.stringify({title:r.label,metricKey:t.metricKey,target:t.target,dateFrom:(0,d.GP)(t.dateFrom,"yyyy-MM-dd"),dateTo:(0,d.GP)(t.dateTo,"yyyy-MM-dd")})}));a(e=>[n,...e]),i(!1),g.reset(),e({title:"Obiectiv adăugat!",description:"Ai setat un nou obiectiv: ".concat(n.title,".")})}catch(t){e({title:"Nu am putut salva obiectivul",description:t instanceof Error?t.message:"Eroare necunoscută",variant:"destructive"})}}async function w(t){try{let r=v();await (0,L.nr)("/goals/".concat(t),{method:"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:void 0}),a(e=>e.filter(e=>e.id!==t)),e({title:"Obiectiv șters.",variant:"destructive"})}catch(t){e({title:"Nu am putut șterge obiectivul",description:t instanceof Error?t.message:"Eroare necunoscută",variant:"destructive"})}}return(0,s.useEffect)(()=>{(async()=>{let t=window.localStorage.getItem("salesway_token");if(!t)return h(!1);try{var a;let e=await (0,L.nr)("/reports/daily/today",{headers:{Authorization:"Bearer ".concat(t)}});y({...q,...null!=(a=e.inputs)?a:{}})}catch(t){console.error("Failed to load report inputs",t),e({title:"Nu am putut \xeencărca raportul de azi.",description:"Verifică conexiunea și \xeencearcă din nou.",variant:"destructive"})}finally{h(!1)}})()},[e]),(0,s.useEffect)(()=>{j()},[j]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("header",{className:"flex items-start justify-between sm:items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-headline text-2xl",children:"Obiective"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Adaugă și urmărește progresul obiectivelor tale."})]}),(0,r.jsxs)(P.$,{onClick:()=>i(!0),children:[(0,r.jsx)(V.A,{className:"mr-0 h-4 w-4 sm:mr-2"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"Adaugă Obiectiv"})]})]}),0===t.length?(0,r.jsxs)(u.Zp,{className:"flex flex-col items-center justify-center gap-4 py-16 text-center",children:[(0,r.jsx)($.A,{className:"h-16 w-16 text-muted-foreground"}),(0,r.jsx)("h3",{className:"text-xl font-semibold",children:f?"Se \xeencarcă obiectivele...":"Niciun obiectiv setat"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:f?"Așteaptă puțin, \xeencărcăm datele.":"Apasă pe &quot;Adaugă Obiectiv&quot; pentru a \xeencepe."})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>{let t=0;if("total_sales"===e.metricKey)t=m.sales_one_call_close+m.followup_sales;else{let a=m[e.metricKey];t="number"==typeof a?a:0}let a=e.target>0?t/e.target*100:0,s=e.metricKey.includes("value")||e.metricKey.includes("cash"),n=s?"".concat(e.target.toLocaleString("ro-RO")," RON"):e.target,l=s?"".concat(t.toLocaleString("ro-RO")):t,o=s?"".concat(l," / ").concat(n):"".concat(t," / ").concat(e.target),i=e.dateFrom?(0,d.GP)(e.dateFrom,"dd-MM-yyyy",{locale:c.ro}):"",f=e.dateTo?(0,d.GP)(e.dateTo,"dd-MM-yyyy",{locale:c.ro}):"",p=i&&f?"".concat(i," - ").concat(f):"Perioadă nedefinită";return(0,r.jsxs)(u.Zp,{className:"group relative",children:[(0,r.jsxs)(u.aR,{children:[(0,r.jsx)(u.ZB,{className:"pr-12",children:e.title}),(0,r.jsxs)(u.BT,{children:[p," | Țintă: ",n]}),(0,r.jsxs)(P.$,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 h-8 w-8 opacity-0 transition-opacity group-hover:opacity-100",onClick:()=>w(e.id),children:[(0,r.jsx)(B,{className:"h-4 w-4 text-destructive"}),(0,r.jsx)("span",{className:"sr-only",children:"Șterge obiectiv"})]})]}),(0,r.jsxs)(u.Wu,{className:"space-y-2",children:[(0,r.jsx)(O,{value:a}),(0,r.jsxs)("div",{className:"flex justify-between text-sm font-medium text-muted-foreground",children:[(0,r.jsx)("span",{children:"Progres"}),(0,r.jsx)("span",{children:x?"Se \xeencarcă...":o})]})]})]},e.id)})}),(0,r.jsx)(I.lG,{open:n,onOpenChange:i,children:(0,r.jsxs)(I.Cf,{className:"sm:max-w-md",children:[(0,r.jsxs)(I.c7,{children:[(0,r.jsx)(I.L3,{children:"Adaugă un Obiectiv Nou"}),(0,r.jsx)(I.rr,{children:"Selectează metrica, perioada și ținta pentru noul tău obiectiv."})]}),(0,r.jsx)(D.lV,{...g,children:(0,r.jsxs)("form",{onSubmit:g.handleSubmit(N),className:"space-y-6 py-4",children:[(0,r.jsx)(D.zB,{control:g.control,name:"metricKey",render:e=>{let{field:t}=e;return(0,r.jsxs)(D.eI,{children:[(0,r.jsx)(D.lR,{children:"Categorie"}),(0,r.jsxs)(z.l6,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)(D.MJ,{children:(0,r.jsx)(z.bq,{children:(0,r.jsx)(z.yv,{placeholder:"Selectează o categorie din raport"})})}),(0,r.jsx)(z.gC,{children:U.map(e=>(0,r.jsx)(z.eb,{value:e.key,children:e.label},e.key))})]}),(0,r.jsx)(D.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(D.zB,{control:g.control,name:"dateFrom",render:e=>{let{field:t}=e;return(0,r.jsxs)(D.eI,{children:[(0,r.jsx)(D.lR,{children:"Data de \xeenceput"}),(0,r.jsx)(D.MJ,{children:(0,r.jsx)(F.p,{type:"date",...t,value:t.value instanceof Date?(0,d.GP)(t.value,"yyyy-MM-dd"):t.value||""})}),(0,r.jsx)(D.C5,{})]})}}),(0,r.jsx)(D.zB,{control:g.control,name:"dateTo",render:e=>{let{field:t}=e;return(0,r.jsxs)(D.eI,{children:[(0,r.jsx)(D.lR,{children:"Data de sf\xe2rșit"}),(0,r.jsx)(D.MJ,{children:(0,r.jsx)(F.p,{type:"date",...t,value:t.value instanceof Date?(0,d.GP)(t.value,"yyyy-MM-dd"):t.value||""})}),(0,r.jsx)(D.C5,{})]})}})]}),(0,r.jsx)(D.zB,{control:g.control,name:"target",render:e=>{let{field:t}=e;return(0,r.jsxs)(D.eI,{children:[(0,r.jsx)(D.lR,{children:"Țintă"}),(0,r.jsx)(D.MJ,{children:(0,r.jsx)(F.p,{type:"number",min:"1",placeholder:"Ex: 100",...t})}),(0,r.jsx)(D.C5,{})]})}}),(0,r.jsxs)(I.Es,{children:[(0,r.jsx)(P.$,{variant:"outline",type:"button",onClick:()=>i(!1),children:"Anulează"}),(0,r.jsx)(P.$,{type:"submit",children:"Adaugă Obiectiv"})]})]})})]})})]})}},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>o});var r=a(95155),s=a(12115),n=a(64269);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},90960:(e,t,a)=>{"use strict";a.d(t,{JR:()=>r,hD:()=>s,nr:()=>l,rP:()=>n});let r="https://powerful-spontaneity-production.up.railway.app";if(!r)throw Error("NEXT_PUBLIC_API_BASE_URL is not set.");class s extends Error{constructor(e,t,a){super(t),this.name="ApiError",this.status=e,this.body=a}}let n=async function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.startsWith("http://")||e.startsWith("https://")?e:new URL(e.startsWith("/")?e:"/".concat(e),r).toString(),n=new Headers(null!=(t=a.headers)?t:{});return a.body&&"string"==typeof a.body&&!n.has("Content-Type")&&n.set("Content-Type","application/json"),fetch(s,{...a,headers:n})},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await n(e,t),r=await a.text();if(!a.ok){var l;throw new s(a.status,(l=a.status,401===l?"Unauthorized (401). Please sign in.":403===l?"Forbidden (403).":404===l?"Not Found (404).":l>=500?"Server error. Please try again later.":r||"Request failed (status ".concat(l,").")),r)}return r?JSON.parse(r):null}}},e=>{e.O(0,[4909,1656,483,6625,3780,7443,9864,2969,2201,8441,1255,7358],()=>e(e.s=29614)),_N_E=e.O()}]);